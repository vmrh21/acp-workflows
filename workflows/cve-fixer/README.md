# CVE Fixer

Scan and fix CVE vulnerabilities in user repositories through an interactive, guided workflow that helps you identify security issues and apply appropriate remediation.

## Overview

This workflow guides you through CVE vulnerability scanning using a structured approach. Currently includes the scan phase, with additional phases (analyze, fix, verify, report) available to add as needed.

### 1. Scan
Identify CVE vulnerabilities in your repository by scanning dependencies across all package ecosystems. The workflow always asks for your repository location before scanning.

## Getting Started

### Prerequisites
- Repository with dependency manifests (package.json, requirements.txt, pom.xml, etc.)
- Internet connection for CVE database queries
- Appropriate package managers installed (npm, pip, maven, etc.)

### Installation
1. Clone this workflow repository
2. Load the workflow in your ACP session
3. Run `/cve-fixer.scan` to begin scanning

## Workflow Phases

### Phase 1: Scan
**Command:** `/cve-fixer.scan`

Scans your repository for known CVE vulnerabilities in dependencies. The security engineer will:
- Ask you for your repository URL or local path
- Detect all dependency files in your project
- Run appropriate vulnerability scanners for each ecosystem
- Generate a prioritized report of findings

**Output:**
- `artifacts/cve-fixer/scans/{repo-name}-{timestamp}.json` - Detailed vulnerability data
- `artifacts/cve-fixer/reports/{repo-name}-{timestamp}.md` - Human-readable security report

## Available Agents

This workflow includes the following expert agent:

### Security Engineer - Vulnerability Assessment Specialist
Specialized in identifying, analyzing, and remediating CVE vulnerabilities.

**Expertise:** CVE database analysis, dependency scanning, security risk assessment, remediation strategies, security tooling

## Output Artifacts

All workflow outputs are saved in the `artifacts/cve-fixer/` directory:

```
artifacts/cve-fixer/
├── scans/          # JSON files with detailed vulnerability data
└── reports/        # Markdown reports with prioritized findings
```

## Example Usage

```bash
# Start the CVE scanning workflow
/cve-fixer.scan

# You'll be prompted:
# "Which repository would you like to scan? Please provide a GitHub URL or local path."

# Provide your repository
# Example 1: https://github.com/your-org/your-repo
# Example 2: /Users/you/projects/my-app

# Review the generated report
# Check artifacts/cve-fixer/reports/ for the latest scan results
```

## Configuration

This workflow is configured via `.ambient/ambient.json`. Key settings:

- **Name:** CVE Fixer
- **Description:** Scan and fix CVE vulnerabilities in user repositories
- **Artifact Path:** `artifacts/cve-fixer/`

## Customization

You can customize this workflow by:

1. **Adding more commands:** Create new command files in `.claude/commands/`
   - Example: `cve-fixer.fix.md` for automated remediation
   - Example: `cve-fixer.analyze.md` for detailed CVE analysis
2. **Modifying the agent:** Edit `security-engineer.md` in `.claude/agents/`
3. **Adjusting configuration:** Update `.ambient/ambient.json`
4. **Changing output paths:** Modify the `results` section in config

## Best Practices

1. **Always provide repository context** - The workflow requires explicit repository information
2. **Review scan results before taking action** - Understand the vulnerabilities before applying fixes
3. **Prioritize by severity** - Focus on Critical and High severity CVEs first
4. **Test fixes in a branch** - Don't apply security patches directly to main
5. **Keep dependencies updated** - Regular scanning helps catch vulnerabilities early

## Troubleshooting

**Problem:** Scan command doesn't find any dependency files
**Solution:** Ensure your repository contains standard manifest files (package.json, requirements.txt, etc.) and you're pointing to the repository root

**Problem:** Scanner tools not found
**Solution:** Install the appropriate package manager for your ecosystem (npm, pip, maven, etc.)

## Contributing

To improve this workflow:
1. Fork the repository
2. Make your changes
3. Test thoroughly
4. Submit a pull request

## License

MIT

## Support

For issues or questions:
- Open an issue in the repository
- Refer to the [ACP documentation](https://ambient-code.github.io/vteam)

---

**Created with:** ACP Workflow Creator
**Workflow Type:** Security Review (CVE Scanning)
**Version:** 1.0.0
